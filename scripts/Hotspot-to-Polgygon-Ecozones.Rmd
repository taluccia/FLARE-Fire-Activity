---
title: "Hotspot point data to polygon"
author: "Anna Talucci"
date: "2/6/2020"
output: html_document
---

# Overview
Convert Hotspot/VIIRS point data to polygons. This is to limit the extent of the vector function in GEE to delinieate fire perimeters.


Data acquired from [FIRMS](https://firms.modaps.eosdis.nasa.gov/download/create.php)

Description of [Modis and VIIRS data](https://earthdata.nasa.gov/earth-observation-data/near-real-time/firms)

VIIRS launch October 2011, fire season data available 2012-present
MODIS launch    , available 2001-present

Take all annual hotspot data and make polygons 2001-2020, where 2012-2020 is the combine MODIS/VIIRS Data
 
What is included in this script:

# Packages

```{r include=FALSE}
library(sp)
library(sf)
library(rgdal) # geospatial data
library(raster)
library(rgeos) # GIS Geometry
library(foreign) # deals with dbf files
library(dplyr)
library(spatialEco)
```

# Projections

WGS 84 need for gee
```{r}
wgs_proj =  "+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs "

```

Equal Area projection for russia need for buffering hotspot data
https://gis.stackexchange.com/questions/264093/projection-for-russia-map

+proj=aea +lat_1=50 +lat_2=70 +lat_0=56 +lon_0=100 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs 

```{r}
ee_russia = "+proj=aea +lat_1=50 +lat_2=70 +lat_0=56 +lon_0=100 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs "
```

# Bounding Box Ecozones
## Data
```{r}

ckmt_nst_nsct = readOGR("../data/ecozone_bbox/ckmt_nst_nsct.shp", "ckmt_nst_nsct")
tcst_n = readOGR("../data/ecozone_bbox/tcst_n.shp", "tcst_n")
tcst_s = readOGR("../data/ecozone_bbox/tcst_s.shp", "tcst_s")
est_tbbmt_n = readOGR("../data/ecozone_bbox/est_tbbmt_n.shp", "est_tbbmt_n")
est_tbbmt_s = readOGR("../data/ecozone_bbox/est_tbbmt_s.shp", "est_tbbmt_s")
cpt_bt_west = readOGR("../data/ecozone_bbox/cpt_bt_west.shp", "cpt_bt_west")
cpt_bt_east = readOGR("../data/ecozone_bbox/cpt_bt_east.shp", "cpt_bt_east")

```

## Covert to Equal Area
```{r}
ckmt_nst_nsct_ee = spTransform(ckmt_nst_nsct, CRS(ee_russia))
tcst_n_ee = spTransform(tcst_n, CRS(ee_russia))
tcst_s_ee = spTransform(tcst_s, CRS(ee_russia))
est_tbbmt_n_ee = spTransform(est_tbbmt_n, CRS(ee_russia))
est_tbbmt_s_ee = spTransform(est_tbbmt_s, CRS(ee_russia))
cpt_bt_west_ee = spTransform(cpt_bt_west, CRS(ee_russia))
cpt_bt_east_ee = spTransform(cpt_bt_east, CRS(ee_russia))
```

# Hotspot Data (MODIS and VIIRS)

## Read in MODIS only data (2001-2011)

```{r}
hs2001 = readOGR("../data/FIRMS_Annual_PointData/DL_FIRE_M6_2001/fire_archive_M6_2001.shp", "fire_archive_M6_2001") 
hs2002 = readOGR("../data/FIRMS_Annual_PointData/DL_FIRE_M6_2002/fire_archive_M6_2002.shp", "fire_archive_M6_2002") 
hs2003 = readOGR("../data/FIRMS_Annual_PointData/DL_FIRE_M6_2003/fire_archive_M6_2003.shp", "fire_archive_M6_2003") 
hs2004 = readOGR("../data/FIRMS_Annual_PointData/DL_FIRE_M6_2004/fire_archive_M6_2004.shp", "fire_archive_M6_2004") 
hs2005 = readOGR("../data/FIRMS_Annual_PointData/DL_FIRE_M6_2005/fire_archive_M6_2005.shp", "fire_archive_M6_2005") 

hs2006 = readOGR("../data/FIRMS_Annual_PointData/DL_FIRE_M6_2006/fire_archive_M6_2006.shp", "fire_archive_M6_2006") 
hs2007 = readOGR("../data/FIRMS_Annual_PointData/DL_FIRE_M6_2007/fire_archive_M6_2007.shp", "fire_archive_M6_2007") 
hs2008 = readOGR("../data/FIRMS_Annual_PointData/DL_FIRE_M6_2008/fire_archive_M6_2008.shp", "fire_archive_M6_2008") 
hs2009 = readOGR("../data/FIRMS_Annual_PointData/DL_FIRE_M6_2009/fire_archive_M6_2009.shp", "fire_archive_M6_2009") 
hs2010 = readOGR("../data/FIRMS_Annual_PointData/DL_FIRE_M6_2010/fire_archive_M6_2010.shp", "fire_archive_M6_2010") 
hs2011 = readOGR("../data/FIRMS_Annual_PointData/DL_FIRE_M6_2011/fire_archive_M6_2011.shp", "fire_archive_M6_2011") 
```


## Read in Combined MODIS/VIIRS Data (2012-2020)
```{r}

hs2012 = readOGR("../data/FIRMS_Annual_PointData/hotspot-point-combine/hotspot_point_2012.shp", "hotspot_point_2012")
hs2013 = readOGR("../data/FIRMS_Annual_PointData/hotspot-point-combine/hotspot_point_2013.shp", "hotspot_point_2013")
hs2014 = readOGR("../data/FIRMS_Annual_PointData/hotspot-point-combine/hotspot_point_2014.shp", "hotspot_point_2014")
hs2015 = readOGR("../data/FIRMS_Annual_PointData/hotspot-point-combine/hotspot_point_2015.shp", "hotspot_point_2015")
hs2016 = readOGR("../data/FIRMS_Annual_PointData/hotspot-point-combine/hotspot_point_2016.shp", "hotspot_point_2016")
hs2017 = readOGR("../data/FIRMS_Annual_PointData/hotspot-point-combine/hotspot_point_2017.shp", "hotspot_point_2017")
hs2018 = readOGR("../data/FIRMS_Annual_PointData/hotspot-point-combine/hotspot_point_2018.shp", "hotspot_point_2018")
hs2019 = readOGR("../data/FIRMS_Annual_PointData/hotspot-point-combine/hotspot_point_2019.shp", "hotspot_point_2019")
hs2020 = readOGR("../data/FIRMS_Annual_PointData/hotspot-point-combine/hotspot_point_2020.shp", "hotspot_point_2020")
 
```




## project to equal area russia
```{r}
hs2001_ee = spTransform(hs2001, CRS(ee_russia))
hs2002_ee = spTransform(hs2002, CRS(ee_russia))
hs2003_ee = spTransform(hs2003, CRS(ee_russia))
hs2004_ee = spTransform(hs2004, CRS(ee_russia))
hs2005_ee = spTransform(hs2005, CRS(ee_russia))
```


```{r}
hs2006_ee = spTransform(hs2006, CRS(ee_russia))
hs2007_ee = spTransform(hs2007, CRS(ee_russia))
hs2008_ee = spTransform(hs2008, CRS(ee_russia))
hs2009_ee = spTransform(hs2009, CRS(ee_russia))
hs2010_ee = spTransform(hs2010, CRS(ee_russia))
```

```{r}
hs2011_ee = spTransform(hs2011, CRS(ee_russia))
hs2012_ee = spTransform(hs2012, CRS(ee_russia))
hs2013_ee = spTransform(hs2013, CRS(ee_russia))
hs2014_ee = spTransform(hs2014, CRS(ee_russia))
hs2015_ee = spTransform(hs2015, CRS(ee_russia))
```


```{r}
hs2016_ee = spTransform(hs2016, CRS(ee_russia))
hs2017_ee = spTransform(hs2017, CRS(ee_russia))
hs2018_ee = spTransform(hs2018, CRS(ee_russia))
hs2019_ee = spTransform(hs2019, CRS(ee_russia))
hs2020_ee = spTransform(hs2020, CRS(ee_russia))

```

# Split and run by ecozone and Year




# By Ecozone BBOX
## ckmt_nst_nsct_ee
### Reduce hotspot data to BBox

```{r}
ckmt_nst_nsct_2001_ee_sub = hs2001_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2002_ee_sub = hs2002_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2003_ee_sub = hs2003_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2004_ee_sub = hs2004_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2005_ee_sub = hs2005_ee[ckmt_nst_nsct_ee, ]
```

```{r}
ckmt_nst_nsct_2006_ee_sub = hs2006_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2007_ee_sub = hs2007_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2008_ee_sub = hs2008_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2009_ee_sub = hs2009_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2010_ee_sub = hs2010_ee[ckmt_nst_nsct_ee, ]
```

```{r}
ckmt_nst_nsct_2011_ee_sub = hs2011_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2012_ee_sub = hs2012_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2013_ee_sub = hs2013_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2014_ee_sub = hs2014_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2015_ee_sub = hs2015_ee[ckmt_nst_nsct_ee, ]
```

```{r}
ckmt_nst_nsct_2016_ee_sub = hs2016_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2017_ee_sub = hs2017_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2018_ee_sub = hs2018_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2019_ee_sub = hs2019_ee[ckmt_nst_nsct_ee, ]
ckmt_nst_nsct_2020_ee_sub = hs2020_ee[ckmt_nst_nsct_ee, ]
```

### Buffer by 3k

```{r}
ckmt_nst_nsct_2001_ee_3k = gBuffer(ckmt_nst_nsct_2001_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2002_ee_3k = gBuffer(ckmt_nst_nsct_2002_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2003_ee_3k = gBuffer(ckmt_nst_nsct_2003_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2004_ee_3k = gBuffer(ckmt_nst_nsct_2004_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2005_ee_3k = gBuffer(ckmt_nst_nsct_2005_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
```

```{r}
ckmt_nst_nsct_2006_ee_3k = gBuffer(ckmt_nst_nsct_2006_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2007_ee_3k = gBuffer(ckmt_nst_nsct_2007_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2008_ee_3k = gBuffer(ckmt_nst_nsct_2008_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2009_ee_3k = gBuffer(ckmt_nst_nsct_2009_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2010_ee_3k = gBuffer(ckmt_nst_nsct_2010_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
```

```{r}
ckmt_nst_nsct_2011_ee_3k = gBuffer(ckmt_nst_nsct_2011_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2012_ee_3k = gBuffer(ckmt_nst_nsct_2012_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2013_ee_3k = gBuffer(ckmt_nst_nsct_2013_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2014_ee_3k = gBuffer(ckmt_nst_nsct_2014_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2015_ee_3k = gBuffer(ckmt_nst_nsct_2015_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
```

```{r}
ckmt_nst_nsct_2016_ee_3k = gBuffer(ckmt_nst_nsct_2016_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2017_ee_3k = gBuffer(ckmt_nst_nsct_2017_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2018_ee_3k = gBuffer(ckmt_nst_nsct_2018_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2019_ee_3k = gBuffer(ckmt_nst_nsct_2019_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
ckmt_nst_nsct_2020_ee_3k = gBuffer(ckmt_nst_nsct_2020_ee_sub, width = 3000, capStyle="ROUND", joinStyle="ROUND")
```

### Remove holes in polygons
```{r}
ckmt_nst_nsct_2001_ee_3k_nh = remove.holes(ckmt_nst_nsct_2001_ee_3k)
ckmt_nst_nsct_2002_ee_3k_nh = remove.holes(ckmt_nst_nsct_2002_ee_3k)
ckmt_nst_nsct_2003_ee_3k_nh = remove.holes(ckmt_nst_nsct_2003_ee_3k)
ckmt_nst_nsct_2004_ee_3k_nh = remove.holes(ckmt_nst_nsct_2004_ee_3k)
ckmt_nst_nsct_2005_ee_3k_nh = remove.holes(ckmt_nst_nsct_2005_ee_3k)
```

```{r}
ckmt_nst_nsct_2006_ee_3k_nh = remove.holes(ckmt_nst_nsct_2006_ee_3k)
ckmt_nst_nsct_2007_ee_3k_nh = remove.holes(ckmt_nst_nsct_2007_ee_3k)
ckmt_nst_nsct_2008_ee_3k_nh = remove.holes(ckmt_nst_nsct_2008_ee_3k)
ckmt_nst_nsct_2009_ee_3k_nh = remove.holes(ckmt_nst_nsct_2009_ee_3k)
ckmt_nst_nsct_2010_ee_3k_nh = remove.holes(ckmt_nst_nsct_2010_ee_3k)
```

```{r}
ckmt_nst_nsct_2011_ee_3k_nh = remove.holes(ckmt_nst_nsct_2011_ee_3k)
ckmt_nst_nsct_2012_ee_3k_nh = remove.holes(ckmt_nst_nsct_2012_ee_3k)
ckmt_nst_nsct_2013_ee_3k_nh = remove.holes(ckmt_nst_nsct_2013_ee_3k)
ckmt_nst_nsct_2014_ee_3k_nh = remove.holes(ckmt_nst_nsct_2014_ee_3k)
ckmt_nst_nsct_2015_ee_3k_nh = remove.holes(ckmt_nst_nsct_2015_ee_3k)
```

```{r}
ckmt_nst_nsct_2016_ee_3k_nh = remove.holes(ckmt_nst_nsct_2016_ee_3k)
ckmt_nst_nsct_2017_ee_3k_nh = remove.holes(ckmt_nst_nsct_2017_ee_3k)
ckmt_nst_nsct_2018_ee_3k_nh = remove.holes(ckmt_nst_nsct_2018_ee_3k)
ckmt_nst_nsct_2019_ee_3k_nh = remove.holes(ckmt_nst_nsct_2019_ee_3k)
ckmt_nst_nsct_2020_ee_3k_nh = remove.holes(ckmt_nst_nsct_2020_ee_3k)
```

### reproject to WGS for GEE
```{r}
ckmt_nst_nsct_2001_ee_3k_wgs = spTransform(ckmt_nst_nsct_2001_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2002_ee_3k_wgs = spTransform(ckmt_nst_nsct_2002_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2003_ee_3k_wgs = spTransform(ckmt_nst_nsct_2003_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2004_ee_3k_wgs = spTransform(ckmt_nst_nsct_2004_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2005_ee_3k_wgs = spTransform(ckmt_nst_nsct_2005_ee_3k_nh, CRS( wgs_proj))
```

```{r}
ckmt_nst_nsct_2006_ee_3k_wgs = spTransform(ckmt_nst_nsct_2006_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2007_ee_3k_wgs = spTransform(ckmt_nst_nsct_2007_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2008_ee_3k_wgs = spTransform(ckmt_nst_nsct_2008_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2009_ee_3k_wgs = spTransform(ckmt_nst_nsct_2009_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2010_ee_3k_wgs = spTransform(ckmt_nst_nsct_2010_ee_3k_nh, CRS( wgs_proj))
```

```{r}
ckmt_nst_nsct_2011_ee_3k_wgs = spTransform(ckmt_nst_nsct_2011_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2012_ee_3k_wgs = spTransform(ckmt_nst_nsct_2012_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2013_ee_3k_wgs = spTransform(ckmt_nst_nsct_2013_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2014_ee_3k_wgs = spTransform(ckmt_nst_nsct_2014_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2015_ee_3k_wgs = spTransform(ckmt_nst_nsct_2015_ee_3k_nh, CRS( wgs_proj))
```

```{r}
ckmt_nst_nsct_2016_ee_3k_wgs = spTransform(ckmt_nst_nsct_2016_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2017_ee_3k_wgs = spTransform(ckmt_nst_nsct_2017_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2018_ee_3k_wgs = spTransform(ckmt_nst_nsct_2018_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2019_ee_3k_wgs = spTransform(ckmt_nst_nsct_2019_ee_3k_nh, CRS( wgs_proj))
ckmt_nst_nsct_2020_ee_3k_wgs = spTransform(ckmt_nst_nsct_2020_ee_3k_nh, CRS( wgs_proj))
```

### Sp to sf

```{r}
ckmt_nst_nsct_2001_3k_wgs = st_as_sf(ckmt_nst_nsct_2001_ee_3k_wgs)
ckmt_nst_nsct_2002_3k_wgs = st_as_sf(ckmt_nst_nsct_2002_ee_3k_wgs)
ckmt_nst_nsct_2003_3k_wgs = st_as_sf(ckmt_nst_nsct_2003_ee_3k_wgs)
ckmt_nst_nsct_2004_3k_wgs = st_as_sf(ckmt_nst_nsct_2004_ee_3k_wgs)
ckmt_nst_nsct_2005_3k_wgs = st_as_sf(ckmt_nst_nsct_2005_ee_3k_wgs)
```

```{r}
ckmt_nst_nsct_2006_3k_wgs = st_as_sf(ckmt_nst_nsct_2006_ee_3k_wgs)
ckmt_nst_nsct_2007_3k_wgs = st_as_sf(ckmt_nst_nsct_2007_ee_3k_wgs)
ckmt_nst_nsct_2008_3k_wgs = st_as_sf(ckmt_nst_nsct_2008_ee_3k_wgs)
ckmt_nst_nsct_2009_3k_wgs = st_as_sf(ckmt_nst_nsct_2009_ee_3k_wgs)
ckmt_nst_nsct_2010_3k_wgs = st_as_sf(ckmt_nst_nsct_2010_ee_3k_wgs)
```

```{r}
ckmt_nst_nsct_2011_3k_wgs = st_as_sf(ckmt_nst_nsct_2011_ee_3k_wgs)
ckmt_nst_nsct_2012_3k_wgs = st_as_sf(ckmt_nst_nsct_2012_ee_3k_wgs)
ckmt_nst_nsct_2013_3k_wgs = st_as_sf(ckmt_nst_nsct_2013_ee_3k_wgs)
ckmt_nst_nsct_2014_3k_wgs = st_as_sf(ckmt_nst_nsct_2014_ee_3k_wgs)
ckmt_nst_nsct_2015_3k_wgs = st_as_sf(ckmt_nst_nsct_2015_ee_3k_wgs)
```

```{r}
ckmt_nst_nsct_2016_3k_wgs = st_as_sf(ckmt_nst_nsct_2016_ee_3k_wgs)
ckmt_nst_nsct_2017_3k_wgs = st_as_sf(ckmt_nst_nsct_2017_ee_3k_wgs)
ckmt_nst_nsct_2018_3k_wgs = st_as_sf(ckmt_nst_nsct_2018_ee_3k_wgs)
ckmt_nst_nsct_2019_3k_wgs = st_as_sf(ckmt_nst_nsct_2019_ee_3k_wgs)
ckmt_nst_nsct_2020_3k_wgs = st_as_sf(ckmt_nst_nsct_2020_ee_3k_wgs)
```

### Write to file
Create a shapefile

```{r eval=FALSE, include=FALSE}
st_write(ckmt_nst_nsct_2001_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2001.shp", driver="ESRI Shapefile")  
st_write(ckmt_nst_nsct_2002_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2002.shp", driver="ESRI Shapefile") 
st_write(ckmt_nst_nsct_2003_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2003.shp", driver="ESRI Shapefile") 
st_write(ckmt_nst_nsct_2004_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2004.shp", driver="ESRI Shapefile") 
st_write(ckmt_nst_nsct_2005_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2005.shp", driver="ESRI Shapefile") 

st_write(ckmt_nst_nsct_2006_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2006.shp", driver="ESRI Shapefile") 
st_write(ckmt_nst_nsct_2007_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2007.shp", driver="ESRI Shapefile") 
st_write(ckmt_nst_nsct_2008_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2008.shp", driver="ESRI Shapefile") 
st_write(ckmt_nst_nsct_2009_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2009.shp", driver="ESRI Shapefile") 
st_write(ckmt_nst_nsct_2010_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2010.shp", driver="ESRI Shapefile") 


st_write(ckmt_nst_nsct_2011_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2011.shp", driver="ESRI Shapefile")  
st_write(ckmt_nst_nsct_2012_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2012.shp", driver="ESRI Shapefile") 
st_write(ckmt_nst_nsct_2013_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2013.shp", driver="ESRI Shapefile") 
st_write(ckmt_nst_nsct_2014_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2014.shp", driver="ESRI Shapefile") 
st_write(ckmt_nst_nsct_2015_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2015.shp", driver="ESRI Shapefile") 

st_write(ckmt_nst_nsct_2016_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2016.shp", driver="ESRI Shapefile") 
st_write(ckmt_nst_nsct_2017_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2017.shp", driver="ESRI Shapefile") 
st_write(ckmt_nst_nsct_2018_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2018.shp", driver="ESRI Shapefile") 
st_write(ckmt_nst_nsct_2019_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2019.shp", driver="ESRI Shapefile") 
st_write(ckmt_nst_nsct_2020_3k_wgs, "../outputs/hotspot-poly/hotspot_ckmt_nst_nsct_2020.shp", driver="ESRI Shapefile") 
```
